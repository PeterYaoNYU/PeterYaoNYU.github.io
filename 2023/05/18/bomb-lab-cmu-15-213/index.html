<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Bomb Lab CMU 15-213 - Peter Yuncheng Yao</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Peter&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Peter&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="May 18th, 2023.  I have just finished all my final yesterday. Farewell my sophomore year! After playing the new Zelda: Tears of the Kingdom for the whole evening, which was released just a few days ag"><meta property="og:type" content="blog"><meta property="og:title" content="Bomb Lab CMU 15-213"><meta property="og:url" content="http://peteryaonyu.github.io/2023/05/18/bomb-lab-cmu-15-213/"><meta property="og:site_name" content="Peter Yuncheng Yao"><meta property="og:description" content="May 18th, 2023.  I have just finished all my final yesterday. Farewell my sophomore year! After playing the new Zelda: Tears of the Kingdom for the whole evening, which was released just a few days ag"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-15.53.56-1024x636.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-15.59.18-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.03.41-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.10.36-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.18.06-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.21.17-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.26.20-1024x749.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.32.19-1024x728.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.12.58-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.23.45-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.42.57-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.00.08-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.03.58-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.15.01-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.18.47-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.24.03-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.26.34-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.15.11-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.22.06-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.45.18-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.48.26-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-22.02.22-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-22.06.16-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-23.59.16-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-06.40.27-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-06.46.12-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.15.56-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.18.34-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.24.32-1024x626.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.26.18-1024x653.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.02.50-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.11.59-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.21.04-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.08.11-1024x331.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.10.35-1024x212.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.17.32-1024x202.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.44.02-1024x217.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.56.56-1024x591.png"><meta property="og:image" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-13.05.46-1024x591.png"><meta property="article:published_time" content="2023-05-18T08:34:12.000Z"><meta property="article:modified_time" content="2024-01-09T04:15:14.096Z"><meta property="article:author" content="Yuncheng Yao"><meta property="article:tag" content="Peter Yuncheng Yao, Peter Yao, Peter Y. Yao, Peter Yao NYU, Peter Yao NYU Shanghai, Peter Yao NYUSH, Peter Yao NYU S"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-15.53.56-1024x636.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://peteryaonyu.github.io/2023/05/18/bomb-lab-cmu-15-213/"},"headline":"Bomb Lab CMU 15-213","image":["http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-15.53.56-1024x636.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-15.59.18-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.03.41-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.10.36-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.18.06-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.21.17-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.26.20-1024x749.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-16.32.19-1024x728.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.12.58-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.23.45-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-18-at-20.42.57-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.00.08-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.03.58-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.15.01-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.18.47-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.24.03-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-19-at-20.26.34-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.15.11-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.22.06-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.45.18-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-21.48.26-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-22.02.22-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-22.06.16-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-21-at-23.59.16-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-06.40.27-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-06.46.12-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.15.56-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.18.34-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.24.32-1024x626.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-22-at-07.26.18-1024x653.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.02.50-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.11.59-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-11.21.04-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.08.11-1024x331.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.10.35-1024x212.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.17.32-1024x202.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.44.02-1024x217.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-12.56.56-1024x591.png","http://peteryaonyu.github.io/images/Screenshot-2023-05-23-at-13.05.46-1024x591.png"],"datePublished":"2023-05-18T08:34:12.000Z","dateModified":"2024-01-09T04:15:14.096Z","author":{"@type":"Person","name":"Yuncheng Yao"},"publisher":{"@type":"Organization","name":"Peter Yuncheng Yao","logo":{"@type":"ImageObject","url":{"text":"Yao Yuncheng(Peter)"}}},"description":"May 18th, 2023.  I have just finished all my final yesterday. Farewell my sophomore year! After playing the new Zelda: Tears of the Kingdom for the whole evening, which was released just a few days ag"}</script><link rel="canonical" href="http://peteryaonyu.github.io/2023/05/18/bomb-lab-cmu-15-213/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Peter Yuncheng Yao" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Yao Yuncheng(Peter)</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-05-18T08:34:12.000Z" title="5/18/2023, 4:34:12 PM">2023-05-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-01-09T04:15:14.096Z" title="1/9/2024, 12:15:14 PM">2024-01-09</time></span><span class="level-item">29 minutes read (About 4339 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Bomb Lab CMU 15-213</h1><div class="content"><p>May 18th, 2023. </p>
<p>I have just finished all my final yesterday. Farewell my sophomore year! After playing the new <em>Zelda: Tears of the Kingdom</em> for the whole evening, which was released just a few days ago (and without any doubt, the best game ever made in human history), I decided to do something a little bit more meaningful and fulfilling. </p>
<span id="more"></span>


<p>I started on the lab assignments of 15-213 when I was still a very naive and stupid freshman (I’ve got to admit that I am kind of stupid in the freshman year…). Back then I don’t know anything about computer systems. It is a terrible terrible mistake to start Intro to Computer Sys when you don’t have a clue what C and POSIX and OS is. The labs will just gradually suck out the false confidence that you got from the undemanding NYU curriculum and the all too high level Python. Apparently, this course is by no means, as its name suggests, an intro one. We’ve got to learn to respect CMU. </p>
<p>After being through some pretty traumatic experience at Operating Systems and Distributed Systems classes, I decided that I am tortured enough to begin again on the lab assignment of CS:APP. Being a seasoned and perhaps too experienced C programmer, I think I can easily handle an introductory undergraduate course on Systems. (Or can I? Let’s find out!)</p>
<p>I will skip Data Lab (the first lab) at least for now, because it’s not a particularly interesting one. I will come back to it when I have the time to do so. Bomb lab should be the fun part. Let’s begin with that. </p>
<p><strong>If you are a student enrolled in CS15-213 at CMU, DON’T MOVE ON!!! Keep in mind that this would constitute a violation of academic integrity. This material is intended to give self-study students some intuition and help when they are stuck and alone with no one to seek help from.</strong> </p>
<hr>
<p><em><strong>Phase 0: Preparation</strong></em></p>
<p>You can either download the source code from the <a target="_blank" rel="noopener" href="http://csapp.cs.cmu.edu/3e/labs.html">CS:APP website</a>, or from the <a href="/images/bomb.tar">mirror on this site</a>. </p>
<p><a href="/images/bomb.tar">bomb</a><a href="/images/bomb.tar">Download</a></p>
<p>I find this GDB document particularly helpful. It’s clear and detailed. </p>
<p><a href="/images/gdbnotes-x86-64.pdf">gdbnotes-x86-64</a><a href="/images/gdbnotes-x86-64.pdf">Download</a></p>
<p>Some commands that are not in the document, but I personally use a lot, are:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; layout src</span><br><span class="line">&gt; layout asm</span><br></pre></td></tr></table></figure>



<p>This way the assembly &#x2F; code are juxtaposed with the output in a way that is more convenient to read. </p>
<hr>
<p><em><strong>Phase 1: Starting with the Simple One</strong></em></p>
<p>After downloading the bomb, first check out the source file to get a rough idea of what this program is doing. However the source file alone is not very informative. </p>
<p><img src="/images/Screenshot-2023-05-18-at-15.53.56-1024x636.png"></p>
<p>Basically for every phase, the program will read an input, and if the input is not correct, it will trigger a signal to set off the alarm. Otherwise that phase is defused. </p>
<p>The real hint hides within the object file. You may way to first find out what is in the symbol table, by using:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; objdump -t bomb</span><br></pre></td></tr></table></figure>



<p><img src="/images/Screenshot-2023-05-18-at-15.59.18-1024x749.png"></p>
<p>Some interesting tags include: phase 1…6, sigalrm_handler, phase_defused… Oh look, there is even something called a secret phase. Is that a bonus?</p>
<p>Still not very informative, but at least we know where we can set out breakpoints. </p>
<p><img src="/images/Screenshot-2023-05-18-at-16.03.41-1024x749.png"></p>
<p>Breaking at phase_1, and run the program, you are required to input a string, as was indicated when we examine the source code. Since I am proud of my own culture and heritage, I will just put here China. (remember that this is a 5 byte string, it is an important hint later). </p>
<p>Moving on, let’s examine what is in the assembly of phase 1. </p>
<p><img src="/images/Screenshot-2023-05-18-at-16.10.36-1024x749.png"></p>
<p>seems like it moves 0x402400 to %esi. An easy guess would be that 0x402400 is a memory address, since we are talking about string here. We cannot put a string in a register, only the address of it. It is worth noting that %esi is the second argument register. So it is clear that we are passing information into a function. Phase_1+9 tells us that this function is called strings not equal. </p>
<p>But what about %rdi? After all %rdi is the first argument register, and if we use %rsi, that means that %rdi is also used. That is a valid question, and it seems to me that %rdi stores what we input initially, in the initialize_bomb() function call. It will be verified later.</p>
<p><img src="/images/Screenshot-2023-05-18-at-16.18.06-1024x749.png"></p>
<p>Remember that before, in phase 1, a function called strings_not_equal is called. Now let’s step into it, and examine what it does. </p>
<p><img src="/images/Screenshot-2023-05-18-at-16.21.17-1024x749.png"></p>
<p>The two arguments are each passed first into a function called string_length. It’s not too hard to guess it’s meaning from the name. Apparently, we will jump to strings_not_squal+99 if the length of the two arguments differ. That line will return 1 to phase_1 function, and phase_1, after seeing 1 in %rax, will set off the bomb. BOOM!</p>
<p><img src="/images/Screenshot-2023-05-18-at-16.26.20-1024x749.png"></p>
<p>Checking the register value, we found that %r12d has value 5, which happens to be the length of the word “China”. What a wonderful coincidence!</p>
<p>%rax has value 52, so ah, it seems like the answer string has length 52. We are getting very close to the answer. </p>
<p>Remember how we stored the address of the correct answer in %rsi, and thar address is 0x402400. All that is left to do is to examine what is store at that address, and exactly 52 words from that, nothing more, nothing less.</p>
<p>Use the command in GDB to get what you want:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; x/52s 0x402400</span><br></pre></td></tr></table></figure>



<p><img src="/images/Screenshot-2023-05-18-at-16.32.19-1024x728.png"></p>
<p>The answer is in the picture. Honestly, I didn’t expect it to be this political LOL.</p>
<hr>
<p><em><strong>Phase 2: Let’s Talk About LOOPS!</strong></em></p>
<p>Phase two is an easy one, took me less than 15 minutes to solve. It is pretty intuitive, given that I got stuck and trained in phase 1. </p>
<p><img src="/images/Screenshot-2023-05-18-at-20.12.58-1024x591.png">As always, let’s first set a breakpoint at phase_2, and then check what is in the assembly. What I find most intuitive to do is to unfold the loop functions in a series of commands, so that we don’t have to think too much about loop, and that is exactly what I will do. </p>
<p>First, the compiler saves some callee saved registers that may be altered, then it decrements the stack pointer by 0x28 (pay attention, we are talking about hex here, you will be seriously wrong if you think about decimal, like I once did). </p>
<p>Then the function calls a function named &lt;read_six_numbers&gt;. I don’t even bother to step into that particular function, because its purpose is already all too clear from the name itself. It just read 6 numbers, and it seems that this time, we need to input 6 numbers as the answer. </p>
<p>Six numbers, that is really a lot. Apparently, the compiler will not use the register to save these 6 numbers, what it will do is to store the 6 numbers on the stack, starting from the stack pointer %rsp obviously. </p>
<p><img src="/images/Screenshot-2023-05-18-at-20.23.45-1024x591.png">The phase_2 assembly from the previous picture is not complete, with this pic, it is complete now. </p>
<p>We definitely want to jump at line phase_2+18, otherwise the bomb will explode! To jump, we must make sure that the number in *(%rsp) is 0x1, so the first number we input should be 1. </p>
<p>Now that we have jumped to line phase_2+52, %rbx &#x3D; 4 + %rsp (we are not yet dereferencing here), %rbp &#x3D; 18+%rsp. And then we jump back to line phase_2 + 27. </p>
<p>Starting from line phase_2+27, %eax &#x3D; * (%rbx-4) &#x3D; * (%rsp) (we are dereferencing here), %eax &#x3D; 2 * %eax, since we want to jump at line phase_2 + 34 to avoid triggering the bomb at line 36, %eax should be equal to *(%rbx), in other words, *(4+rsp) &#x3D; 2 * (*%rsp). So what should be the second element in the 6 int array we input then? Apparently 2!!!</p>
<p>Jumping to line 41, %rbx &#x3D; %rbx + 4 &#x3D; %rsp + 8. If %rbx !&#x3D; %rsp + 24, then we loop back to line 27, where we must make sure that the latter element is twice as big as the previous element. However, if we are lucky enough to have %rbx &#x3D; %rsp + 24, which will eventually happen after 6 iterations, we will just go to line 64, restore the stack, and then return. With that said, it is pretty apparent that the sequence of number should be 1 2 4 8 16 32, since we are inputting 6 numbers as specified. </p>
<p><img src="/images/Screenshot-2023-05-18-at-20.42.57-1024x591.png"></p>
<p>We tried that out, it is indeed the solution!!!!!!! So exciting!!!!!!!! </p>
<hr>
<p><em><strong>Phase 3: Jumping Around!</strong></em></p>
<p>Today is May, 19th, 2023. After a long hard day working on the impossible research project, I finally had some time to myself. (Maybe I will write a post about that project a little bit later, I do believe that it is a very meaningful and truly inaugurating project, but it looks VERY formidable). </p>
<p>Phase 3 of the bomb lab is a lot more difficult than the previous two, I have got to admit. I have to spend around an hour to solve this problem. </p>
<p>As always, first we will set a break point at phase_3, and run the program as usual. You can first input anything, as long as we quit GDB before the bomb is set off, we are fine. </p>
<p>if you do that, here should be what you see:</p>
<p><img src="/images/Screenshot-2023-05-19-at-20.00.08-1024x591.png">Stopping right before phase_3 begins. </p>
<p>I am utterly curious what is store at address 0x4025cf, since it is passed as an argument to the sscanf function at line 24. So I examine what was in that address. </p>
<p><img src="/images/Screenshot-2023-05-19-at-20.03.58-1024x591.png">As it shows, it stores a string, whose content is two place holders for decimal values. (Why do I print it as String? Well, the sscanf function kind of gives you a hint. sscanf function should take as input a string (out input, and a string representing the place holders like %d %d). </p>
<p>This belief is collaborated by the fact the at line phase_3 + 19, the program requires that the return value of sscanf should be bigger than 0, otherwise, the bomb will explode. The return value of sscanf should be the number of integers parsed successfully. Though trial and failure, you will indeed find that, no matter how many numbers you try to input, the result will still be 2 at most, since we only have 2 place holders for integers. </p>
<p>With that knowledge in mind, we should adjust our input accordingly, so that we can at least survive past line 34. I will just input 6 8. They are all lucky numbers in China!</p>
<p>Since we are moving on to deal with the content in the stack, I think that it was high time that we examine what is now in the stack. </p>
<p><img src="/images/Screenshot-2023-05-19-at-20.15.01-1024x591.png"></p>
<p>We find that 6 and 8 that we input before is now in the stack, thanks to the sscanf function. What are the first 2 bytes, I really don’t care. I just need to know where my inputs are stored.</p>
<p>So apparently, we are jumping at line phase_3 + 50, to a mysterious place based on the stuff in *($rsp+8), which happens to be our first input number. </p>
<p><img src="/images/Screenshot-2023-05-19-at-20.18.47-1024x591.png"></p>
<p>There are several lines doing similar things, storing a number in %rax, and jump to line 123. At line 123, we want to make sure that *(12+%rsp)&#x3D;&#x3D;%eax, whatever was put into %rax at previous steps. Note that 12+%rsp is the place where we store our second input number!!!</p>
<p>Now things are clearing up!!!!!!!!!!!! We jump to a certain line based on out first input, the program will then put a certain number into %rax, we just need to make sure that our second input is the same as the number put into that register!!!!!!!!!! GOOD!!!!!!!!!!!!!!!</p>
<p>For simplicity, I will make the first number 0. There is no reason to calculate which line we jumps to by hand, use GDB’s nexti to find out where we jump to, and then adjust the second input number accordingly.</p>
<p><img src="/images/Screenshot-2023-05-19-at-20.24.03-1024x591.png"></p>
<p>So we find that with 0 we jump to line 57, which puts 0xcf into %rax. 0xcf is 207 in decimal. Try 0 207 as a tentative answer, and phase 3 will be defused successfully!</p>
<p><img src="/images/Screenshot-2023-05-19-at-20.26.34-1024x591.png">As I alluded to, you can also try 1 as the first input, step with GDB, and you will find that the second input should be decimal 311. 1 311 is also a valid answer! </p>
<p>You can try more, but I will stop here. Hoped that you enjoyed it so far!!!</p>
<hr>
<p><em><strong>Phase 4: Function Calls</strong></em></p>
<p>Today is May 21st, 2023. I am trying to finish one phase per day of this lab. This is a little ambitious, because I play too hard during the summer holiday. </p>
<p>Luckily, phase 4 of the lab is not a difficult one, as I get more experience with assembly along the way. It took me around half an hour to solve this problem. </p>
<p>As always, let’s set a breakpoint at phase_4 first, and then step through the assembly. Here is what we get when we inspect phase_4 of the code. </p>
<p><img src="/images/Screenshot-2023-05-21-at-21.15.11-1024x653.png"></p>
<p>Okay, apparently, we are using sscanf to turn our string input into numbers, or something else. The question that remains is how many numbers we should input? We could find this out by inspecting the second argument of sscanf, which is what is stored in %esi: 0x4025cf. This is quite similar to what we did in phase_3, and because I still remembered that from two days ago, this step is quite intuitive.</p>
<p><img src="/images/Screenshot-2023-05-21-at-21.22.06-1024x653.png">It is expecting a string of the format “%d %d”. </p>
<p>So by inspecting the format stored at 0x4025cf, we should input two numbers. Now the central question becomes, which two numbers should we input? To answer that, we need to inspect the assembly further.</p>
<p>First we allocate on the stack 18 bytes. %rcx &#x3D; 12 + %rsp. %rdx &#x3D; 8 + %rsp. Again, these two registers are arguments passed into the sscanf function. This alludes to the fact that the two numbers that we input to the program are each stored in 8+%rsp and 12+%rsp. This fact can be checked by inputing two random numbers and then inspect the stack, which I will omit here since it has been demonstrated previously. I really cannot decipher what ws in the first 8 bytes starting at %rsp, nor do I really care about it. </p>
<p>Then, it is apparent that if we want to avoid triggering the bomb, then we should really make sure that we jump at line 39. In order to jump, we have to make sure that the first input is smaller than or equal to the number 0xe, which is 14 in decimal. </p>
<p><img src="/images/Screenshot-2023-05-21-at-21.45.18-1024x653.png"></p>
<p>Line 69 also requires that the second input, which is stored at 0xc(%rsp), should be equal to 0. </p>
<p>It is calling a procedure called <func4>, and the arguments are: %rdx&#x3D;14, %rsi&#x3D;0, %rdi&#x3D;first input. Let’s move on to inspect what is going on in <func4>, shall we?</p>
<p><img src="/images/Screenshot-2023-05-21-at-21.48.26-1024x653.png">Stepping into <func4></p>
<p>Now we are stepping into func4, %rax &#x3D; %rdx &#x3D; 14, %eax &#x3D; %eax - %esi &#x3D; 14 - 0 &#x3D; 14, %ecx &#x3D; 14. Shift %ecx right by 31 bits, and store the result back in %ecx, so %ecx should be the sign bit of 14, which is 0. %eax &#x3D; %eax + %ecx &#x3D; %eax + 0 &#x3D; %eax &#x3D; 14. %eax shift arithmetic right by 1 bit, which makes %eax 7 (divide by 2). At line 17, %ecx &#x3D; %rax + 1 * %rsi &#x3D; 7 + 1 * 0 &#x3D; 7. We don’t really want to call <func4> recursively at line 27, so %edi had better be less than or equal to %ecx, with %edi being the first input and %ecx being 7. </p>
<p>Assume that we jumped successfully to line 36, which moves 0 to %eax (this is what we want, since we want at line phase_4 + 65, that the return value of func4 being 0, to avoid setting the bomb off!!!). Then we really want %edi &gt;&#x3D; %ecx, to avoid the recursive calls to func4. Remember that previously, we want %edi &lt;&#x3D; %ecx, so these two should really be equal, which gives us the right first input: 7. </p>
<p><img src="/images/Screenshot-2023-05-21-at-22.02.22-1024x653.png">Just to give you the full picture what <func4> is doing…</p>
<p>Recall that I said that the second input should be 0, and we need two numbers exactly. The answer is here: </p>
<p>7 0</p>
<p>There may be more than 1 answer, but I will stop here. </p>
<p><img src="/images/Screenshot-2023-05-21-at-22.06.16-1024x653.png">And we are successful, it is indeed the answer!!!</p>
<hr>
<p> <em><strong>Phase 5: Cracking ASCII Code</strong></em></p>
<p>Hey guys, it’s midnight on May 21, 2023, 23:53. I have just finished phase 5 of the bomb lab (two phases in one night, because it is really super FUN!!!!!!). I am writing overnight in case I forget how to solve this problem when I wake up in the morning…. And also partly because I am so excited right now LOL. </p>
<p>This phase is worth extra credits, because it is supposed to be more difficult. However, I found the difficulty very acceptable, and it took me around 30 minutes to solve this problem. So don’t be terrified by the apparent complexity of this problem. If you have been following along, you have what it takes to solve this problem very easily. </p>
<p>As usual, let’s set a breakpoint at phase_5, and then examine the assembly via GDB. </p>
<p><img src="/images/Screenshot-2023-05-21-at-23.59.16-1024x653.png"></p>
<p>So it allocate for the stack a space of 32 bytes, but the last 8 byte of the stack is protected by the canary to protect the process from stack overflow attack (this is a GCC default). So really the actual amount of space we can use on the stack is 24 bytes. </p>
<p>Then we use xor to force %eax to become 0, and then call the procedure &lt;string_length&gt;. We want to make sure that the return value in %rax is 6, otherwise the bomb will be triggered. So apparently the length of our input should be of a string of length 6, and we will jump to line 112. </p>
<p><img src="/images/Screenshot-2023-05-22-at-06.40.27-1024x653.png"></p>
<p>Line phase_5 + 112 just clears the content in %eax, and then jump back to line 41, which, as we will see, is a loop that serves as the main logic. </p>
<p><img src="/images/Screenshot-2023-05-22-at-06.46.12-1024x653.png">Moving back to line 41… It looks that we are in a do-while loop. </p>
<p>Let’s examine this part of the ASM closely. It first stores the character at address (%rbx + 1 * %rax) &#x3D; %rbx &#x3D; input string starting address, to the register %ecx. It moves the lowest byte of %ecx to address (%rsp). It then moves the content at address (%rsp) to register %rdx, and AND with 0xf the last 4 bits. So now what is left in %rdx is the last four bits of the first character of our input. </p>
<p>Now we are at line phase_5 + 55, which is moving the byte at address 0x4024b0 + %rdx to register %edx, and moves the lowest byte to address %rsp + 1 * %rax + 16, and then reenter the loop until all 6 characters have been iterated. In other words, the i th byte that we load to the upper part of the stack frame (starting at the 16th byte and should not exceed the 24th byte because of the stack protector of GCC) depends on the last 4 bits of the ith character of our input stirng. </p>
<p>Then we should make sure that the new string at the upper part of the stack frame should be equal to the string stored at address 0x40245e, both address are passed as arguments into a function called &lt;strings_not_equal&gt;. If they are the same, then the bomb will be defused.</p>
<p>So let’s first find out which string we are trying to match here. </p>
<p><img src="/images/Screenshot-2023-05-22-at-07.15.56-1024x653.png">So apparently we are trying to construct a string called “flyers”. And we are selecting from a reserve of characters, starting at address 0x4024b0 from line phase_5 + 55. </p>
<p><img src="/images/Screenshot-2023-05-22-at-07.18.34-1024x653.png"></p>
<p>So we have”maduiersnfotvbyl” to choose from, which contains all characters in the string “flyers”. Also note that we only have 16 characters here, which is the maximum number of choices that can be represented with 4 bits, since we are only using the last 4 bits of each character of our input as offset into this character reserve. This cannot be a coincidence, we are in the right place bro.</p>
<p>So we want our offset at %edx to be 9, 15, 14, 5, 6, 7 to get “flyers”, which translate into binary “1001 1111 1110 0101 0110 0111”, and all we need to do is to find 6 characters whose lower 4 bits are exactly that. </p>
<p><img src="/images/Screenshot-2023-05-22-at-07.24.32-1024x626.png"></p>
<p>Checking the ASCII table, this string could be, but not necessarily, “<strong>9 ? &gt; 5 6 7</strong>“ since the lowest 4 bits matches. </p>
<p>We try this, and this is indeed the answer!</p>
<p><img src="/images/Screenshot-2023-05-22-at-07.26.18-1024x653.png">Not too hard, right? Told you</p>
<hr>
<p><em><strong>Phase 6: Linked List and Sorting</strong></em></p>
<p>The last phase of the bomb is significantly more complex than previous phases. It makes heavy use of pointers and array, which makes this procedure call a lot more complex. I will try my best to explain what is going on. </p>
<p>Let’s give out the answer first, because, why not? We input 4 3 2 1 6 5, and then see what will happen. </p>
<p><img src="/images/Screenshot-2023-05-23-at-11.02.50-1024x591.png"></p>
<p>The first part of the code, from the first line to &lt;phase_6+93&gt;, is doing these: first read in 6 numbers from the standard input, put them at the beginning of the stack frame (as was done usually, this can be verified by printing the stack), check that all numbers are equal to or less then 6 (line phase_6+52, 56), and then check, using a for loop, that every number after is different from itself. This can be roughly reverse engineered to the following code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">read_six_numbers from stdin;</span><br><span class="line"></span><br><span class="line">store them on the stack, starting from %rsp; (use arr to represent the six number array)</span><br><span class="line"></span><br><span class="line">for (int i = 0; i &lt; 6; i++)&#123;</span><br><span class="line">    if (arr[i] &gt; 6) &#123;</span><br><span class="line">        ABORT;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int j = i; j &lt; 6; j++) &#123;</span><br><span class="line">        if (arr[j] == arr[i]) &#123; ABORT;&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/images/Screenshot-2023-05-23-at-11.11.59-1024x591.png"></p>
<p>The second part of the assembly, from &lt;phase_6+95&gt; to &lt;phase_6+121&gt;, is subtracting each number from 7, and store the result of the subtraction at the original stack position. This can be translated into the following pseudo code.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt; 6; i++)&#123;</span><br><span class="line">    arr[i] = 7 - arr[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/images/Screenshot-2023-05-23-at-11.21.04-1024x591.png"></p>
<p>The third part of the code puts address of each node to the stack frame, starting at position rsp+32. The most important address to understand is 0x6032d0. Print it and you will discover that the memory that this address points to store a linked list, though all its nodes are in a contiguous memory. </p>
<p><img src="/images/Screenshot-2023-05-23-at-12.08.11-1024x331.png">Printing the memory at 0x6032d0, something that I did not notice the first time is that the author gives you hint that this is a linked list data structure. Notice the yellow part of the disassembly actually says “node1”. The first field of each node seems to store the element, the second field is the index, the third field is the pointer to the next node, and the fourth field is what we call <em><strong>alignment,</strong></em> which speed up the memory fetch of a struct. </p>
<p><img src="/images/Screenshot-2023-05-23-at-12.10.35-1024x212.png">In hex, makes the address that the second word of each node points to clearer. The linked list is actually contiguous in memory here. </p>
<p>It takes some time to get a grasp of what the assembly is doing here. The rough idea is that it is storing the address of each node in the stack, and the sequence is in accordance of the 6 numbers we input (remember that we take 7 - i for each i we input, so the actual sequence is reversed. In other words, if the first number we input is 2, then the 3rd node will be stored in the 5th place of the array on the stack). If we take a breakpoint after all this madness has ended &lt;at phase_6 + 183&gt;, and then print out the stack memory, we will find that this is indeed the case. </p>
<p><img src="/images/Screenshot-2023-05-23-at-12.17.32-1024x202.png">After all madness ended, this is the memory layout. Starting at the third line, every word stores the starting address of the node. Nodes are put in a sequence that is relevant with our input to the program. </p>
<p><img src="/images/Screenshot-2023-05-23-at-12.44.02-1024x217.png">After executing through &lt;phase_6+183&gt; to &lt;phase_6+220&gt;</p>
<p>From line phase_6+183 to phase_6+220, the code does not do much. As we can tell from the above picture, which is the result of the execution of this part of the code, it just make the singly linked list a ring, pointing from the tail to the head. </p>
<p><img src="/images/Screenshot-2023-05-23-at-12.56.56-1024x591.png"></p>
<p>The last part of the code checks that each node stored in the array on the stack has a bigger element than the next node (here by next I don’t mean the next node pointer, but rather the sequence we input). If it is bigger, than we can defuse the bomb successfully. Otherwise, the bomb goes off. </p>
<p>It is okay if you cannot decipher every line of the assembly, <strong>just focus on the result of each part of the code</strong>, and try to guess (or in a fancier term, reverse engineer) what is going on in each part. In all previous phases, I can understand each line of the disassembly with ease, but the last phase is different. I learned to focus on the result, instead of trying to decipher every line of the disassembly, because there are just too many lines. </p>
<p>So apparently, we kind of get the rough idea, after dividing the code into blocks, and then interpret the result of the execution of each code block, that we are sorting a linked list here, and the number we input reflects the order of the element of nodes. In the last part, we want to make sure that on the stack, nodes are put in decreasing order: 3 4 5 6 1 2. But since we take each number off 7 previously, the sequence we give to the program should be 4 3 2 1 6 5. </p>
<p><img src="/images/Screenshot-2023-05-23-at-13.05.46-1024x591.png">Put 4 3 2 1 6 5 to sol.txt, and then run the program. </p>
<p>Test it, and indeed, this is the result. We have defused the bomb successfully!!!</p>
<p><em><strong>This concludes this lab assignment.</strong></em></p>
<hr>
</div><div class="article-licensing box"><div class="licensing-title"><p>Bomb Lab CMU 15-213</p><p><a href="http://peteryaonyu.github.io/2023/05/18/bomb-lab-cmu-15-213/">http://peteryaonyu.github.io/2023/05/18/bomb-lab-cmu-15-213/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Yuncheng Yao</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2023-05-18</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2024-01-09</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/07/10/cmu15-213-attack-lab/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">CMU15-213 Attack Lab</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/02/17/paper-reading---cs-model---some-constraints-and-tradeoffs-in-the-design-of-network-communications/"><span class="level-item">Paper Reading - CS Model - Some constraints and tradeoffs in the design of network communications</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/images/avatar.jpg" alt="Yao Yuncheng (Peter)"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Yao Yuncheng (Peter)</p><p class="is-size-6 is-block">yy4108@nyu.edu</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tag</p><a href="/tags"><p class="title">1</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/PeterYaoNYU" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/PeterYaoNYU"><i class="fab fa-github"></i></a></div></div></div><!--!--><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-01-09T04:21:48.000Z">2024-01-09</time></p><p class="title"><a href="/2024/01/09/Implementing-a-MapReduce-Framework-with-Golang-from-scratch/">Implementing a MapReduce Framework with Golang RPC from scratch</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-19T00:18:38.000Z">2023-12-19</time></p><p class="title"><a href="/2023/12/19/Database-Bustub-Buffer-Pool-Manager-Implementation/">[Database] Bustub Buffer Pool Manager Implementation</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-07-10T13:48:33.000Z">2023-07-10</time></p><p class="title"><a href="/2023/07/10/cmu15-213-attack-lab/">CMU15-213 Attack Lab</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-18T08:34:12.000Z">2023-05-18</time></p><p class="title"><a href="/2023/05/18/bomb-lab-cmu-15-213/">Bomb Lab CMU 15-213</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-02-17T12:30:20.000Z">2023-02-17</time></p><p class="title"><a href="/2023/02/17/paper-reading---cs-model---some-constraints-and-tradeoffs-in-the-design-of-network-communications/">Paper Reading - CS Model - Some constraints and tradeoffs in the design of network communications</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/"><span class="level-start"><span class="level-item">2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/"><span class="level-start"><span class="level-item">2023</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Distribute-Systems/"><span class="tag">Distribute Systems</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Yao Yuncheng(Peter)</a><p class="is-size-7"><span>&copy; 2024 Yuncheng Yao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2023</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/PeterYaoNYU"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>